(this["webpackJsonpnotes-frontend"]=this["webpackJsonpnotes-frontend"]||[]).push([[0],{17:function(t,e,n){t.exports=n(41)},40:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(16),u=n.n(c),o=n(6),i=n(1),s=n.n(i),l=n(3),p=n(4),f=n(5),m=n.n(f),d={getAll:function(){var t=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/api/notes");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),create:function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/notes",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),update:function(){var t=Object(l.a)(s.a.mark((function t(e,n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.put("".concat("/api/notes","/").concat(e),n);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},v=function(t){var e=t.note,n=t.toggleImportance,r=e.important?"make not important":"make important";return a.a.createElement("li",{className:"note"},e.content,a.a.createElement("button",{onClick:n},r))},b=function(t){var e=t.message;return null===e?null:a.a.createElement("div",{className:"error"},e)},h=function(){return a.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},a.a.createElement("br",null),a.a.createElement("em",null,"Note app, department of computer science, University of Helsinki, 2020"))},E=function(){var t=Object(r.useState)([]),e=Object(p.a)(t,2),n=e[0],c=e[1],u=Object(r.useState)(""),i=Object(p.a)(u,2),f=i[0],m=i[1],E=Object(r.useState)(!0),O=Object(p.a)(E,2),j=O[0],w=O[1],k=Object(r.useState)(null),x=Object(p.a)(k,2),y=x[0],g=x[1];Object(r.useEffect)((function(){var t=function(){var t=Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.getAll();case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{t()}catch(y){g("Initial notes could not be fetched"),setTimeout((function(){g(null)}),5e3)}}),[]);var S=function(){var t=Object(l.a)(s.a.mark((function t(e){var r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r={id:Math.floor(1e4*Math.random()),content:f,date:(new Date).toISOString(),important:Math.random()>.5},t.prev=2,t.next=5,d.create(r);case 5:a=t.sent,c(n.concat(a)),m(""),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),g('"'.concat(r.content,'" could not be added to the database')),setTimeout((function(){g(null)}),5e3);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(l.a)(s.a.mark((function t(e){var r,a,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.find((function(t){return t.id===e})),a=Object(o.a)(Object(o.a)({},r),{},{important:!r.important}),t.prev=2,t.next=5,d.update(e,a);case 5:u=t.sent,c(n.map((function(t){return t.id===e?u:t}))),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),g('The note "'.concat(r.content,'" was already deleted from the server')),setTimeout((function(){g(null)}),5e3),c(n.filter((function(t){return t.id!==r.id})));case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("h1",null,"Notes"),a.a.createElement(b,{message:y}),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return w(!j)}},"show ",j?"important":"all")),a.a.createElement("ul",null,n?(j?n:n.filter((function(t){return t.important}))).map((function(t){return a.a.createElement(v,{key:t.id,note:t,toggleImportance:function(){return I(t.id)}})})):null),a.a.createElement("form",{onSubmit:S},a.a.createElement("input",{type:"text",value:f,onChange:function(t){m(t.target.value)}}),a.a.createElement("button",{type:"submit"},"Save")),a.a.createElement(h,null))};n(40);u.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.72a8cc65.chunk.js.map